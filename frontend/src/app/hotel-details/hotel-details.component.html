<div class="container">
  <div class="row">
    <div class="col-xxl-12 col-lg-12">
      <div class="page-single">
        <div class="service-img"><img src="{{ hotel.image }}" alt="" /></div>
        <div class="page-content">
          <div class="page-meta mt-50 mb-45">
            <a class="page-tag" href="tour.html">Featured</a>
            <div class="inline">
              <app-rating
                [rating]="hotel.average_rating"
                [data]="hotel"
                (rated)="rateTHotel($event)"
              ></app-rating>
            </div>
          </div>
          <h2 class="box-title">{{ hotel.name }}</h2>
          <p class="box-text mb-30 text-style">
            {{ hotel.description }}
          </p>

          <div class="service-inner-img mb-40">
            <img src="{{ hotel.image2 }}" alt="" />
          </div>
          <h2 class="box-title">Highlights</h2>
          <div class="destination-checklist">
            <div class="checklist">
              <ul>
                @for (highlight of hotel.highlights; track highlight.id) {
                <li>{{ highlight.name }}</li>
                }
              </ul>
            </div>
          </div>
        </div>
        <div class="destination-gallery-wrapper">
          <h3 class="page-title mt-30 mb-30">From our gallery</h3>
          <div class="row gy-4 gallery-row filter-active">
            <div class="col-xxl-auto filter-item">
              <div class="gallery-box style3">
                <div class="gallery-img global-img">
                  <img
                    src="assets/img/gallery/gallery_6_1.jpg"
                    alt="gallery image"
                  />
                  <a
                    href="assets/img/gallery/gallery_6_1.jpg"
                    class="icon-btn popup-image"
                    ><i class="fal fa-magnifying-glass-plus"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="col-xxl-auto filter-item">
              <div class="gallery-box style3">
                <div class="gallery-img global-img">
                  <img
                    src="assets/img/gallery/gallery_6_2.jpg"
                    alt="gallery image"
                  />
                  <a
                    href="assets/img/gallery/gallery_6_2.jpg"
                    class="icon-btn popup-image"
                    ><i class="fal fa-magnifying-glass-plus"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="col-xxl-auto filter-item">
              <div class="gallery-box style3">
                <div class="gallery-img global-img">
                  <img
                    src="assets/img/gallery/gallery_6_3.jpg"
                    alt="gallery image"
                  />
                  <a
                    href="assets/img/gallery/gallery_6_3.jpg"
                    class="icon-btn popup-image"
                    ><i class="fal fa-magnifying-glass-plus"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="col-xxl-auto filter-item">
              <div class="gallery-box style3">
                <div class="gallery-img global-img">
                  <img
                    src="assets/img/gallery/gallery_6_4.jpg"
                    alt="gallery image"
                  />
                  <a
                    href="assets/img/gallery/gallery_6_4.jpg"
                    class="icon-btn popup-image"
                    ><i class="fal fa-magnifying-glass-plus"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="th-comments-wrap style2">
          <h2 class="blog-inner-title h4">Comments ({{ comments.length }})</h2>
          <ul class="comment-list">
            @for (comment of comments; track comment.id) {
            <li class="th-comment-item">
              <div class="th-post-comment">
                <div class="comment-avater">
                  @if (comment.user?.profile_picture) {
                  <img
                    src="{{ comment.user?.profile_picture }}"
                    alt="Comment Author"
                  />}@else if(comment.user?.image){<img
                    src="{{ comment.user?.image }}"
                    alt="Comment Author"
                  />}@else {
                  <img
                    src="assets/img/blog/comment-author-1.jpg"
                    alt="Comment Author"
                  />}
                </div>
                <div class="comment-content">
                  <h3 class="name">{{ comment.name }}</h3>
                  <div class="commented-wrapp">
                    <span class="commented-on">{{
                      comment.created_at | date : "medium"
                    }}</span>
                    <!-- <span class="commented-time">08:56pm </span> -->
                    <span class="comment-review">
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                    </span>
                  </div>
                  <p class="text">
                    {{ comment.text }}
                  </p>
                  <div class="reply_and_edit">
                    <i class="fa-solid fa-thumbs-up"></i>
                  </div>
                </div>
              </div>
            </li>
            }
          </ul>
        </div>
        <!-- Comment end -->
        <!-- Comment Form -->
        <!-- <div class="th-comment-form">
            <div class="row">
              <h3 class="blog-inner-title h4 mb-2">Leave a Reply</h3>
              <p class="mb-25">
                Your email address will not be published. Required fields are
                marked
              </p>
              <div class="col-md-6 form-group">
                <input
                  type="text"
                  placeholder="Full Name*"
                  class="form-control"
                  required
                />
                <i class="far fa-user"></i>
              </div>
              <div class="col-md-6 form-group">
                <input
                  type="text"
                  placeholder="Your Email*"
                  class="form-control"
                  required
                />
                <i class="far fa-envelope"></i>
              </div>
              <div class="col-12 form-group">
                <input
                  type="text"
                  placeholder="Website"
                  class="form-control"
                  required
                />
                <i class="far fa-globe"></i>
              </div>
              <div class="col-12 form-group">
                <textarea
                  placeholder="Comment*"
                  class="form-control"
                ></textarea>
                <i class="far fa-pencil"></i>
              </div>
              <div class="col-12 form-group">
                <input type="checkbox" id="html" />
                <label for="html"
                  >Save my name, email, and website in this browser for the next
                  time I comment.</label
                >
              </div>
              <div class="col-12 form-group mb-0">
                <button class="th-btn">
                  Send Message<img src="assets/img/icon/plane2.svg" alt="" />
                </button>
              </div>
            </div>
          </div> -->

        @if(authService.isLoggedIn()) {
        <div class="th-comment-form">
          <div class="row">
            <h3 class="blog-inner-title h4 mb-2">Leave a Reply</h3>
            <p class="mb-25">
              Your email address will not be published. Required fields are
              marked
            </p>
            <form
              [formGroup]="commentFormRegistred"
              (ngSubmit)="onSubmitRegistredComment()"
            >
              <div class="col-12 form-group">
                <textarea
                  placeholder="Comment*"
                  class="form-control"
                  formControlName="text"
                  required
                ></textarea>
                <i class="far fa-pencil"></i>
              </div>

              <div class="col-12 form-group mb-0">
                <button
                  class="th-btn"
                  type="submit"
                  [disabled]="commentFormRegistred.invalid"
                >
                  Send Message<img src="assets/img/icon/plane2.svg" alt="" />
                </button>
              </div>
            </form>
          </div>
        </div>
        }@else {
        <div class="th-comment-form">
          <div class="row">
            <h3 class="blog-inner-title h4 mb-2">Leave a Reply</h3>
            <p class="mb-25">
              Your email address will not be published. Required fields are
              marked
            </p>
            <form [formGroup]="commentForm" (ngSubmit)="onSubmitComment()">
              <div class="col-md-6 form-group">
                <input
                  type="text"
                  placeholder="Full Name*"
                  class="form-control"
                  formControlName="name"
                  required
                />
                <i class="far fa-user"></i>
              </div>
              <div class="col-md-6 form-group">
                <input
                  type="email"
                  placeholder="Your Email*"
                  class="form-control"
                  formControlName="email"
                  required
                />
                <i class="far fa-envelope"></i>
              </div>
              <div class="col-12 form-group">
                <input
                  type="text"
                  placeholder="Website"
                  class="form-control"
                  formControlName="website"
                />
                <i class="far fa-globe"></i>
              </div>
              <div class="col-12 form-group">
                <textarea
                  placeholder="Comment*"
                  class="form-control"
                  formControlName="text"
                  required
                ></textarea>
                <i class="far fa-pencil"></i>
              </div>
              <div class="col-12 form-group">
                <input
                  type="checkbox"
                  id="saveInfo"
                  formControlName="saveInfo"
                />
                <label for="saveInfo">
                  Save my name, email, and website in this browser for the next
                  time I comment.
                </label>
              </div>
              <div class="col-12 form-group mb-0">
                <button
                  class="th-btn"
                  type="submit"
                  [disabled]="commentForm.invalid"
                >
                  Send Message<img src="assets/img/icon/plane2.svg" alt="" />
                </button>
              </div>
            </form>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
</div>
