<section class="space">
  <div class="container">
    <div class="row">
      <div class="col-xxl-8 col-lg-7">
        <div class="page-single">
          <div class="service-img"><img src="{{ hotel.image }}" alt="" /></div>
          <div class="page-content">
            <div class="page-meta mt-50 mb-45">
              <a class="page-tag" href="tour.html">Featured</a>
              <span class="ratting"
                ><i class="fa-sharp fa-solid fa-star"></i><span>4.8</span></span
              >
            </div>
            <h2 class="box-title">{{ hotel.name }}</h2>
            <p class="box-text mb-30 text-style">
              {{ hotel.description }}
            </p>

            <div class="service-inner-img mb-40">
              <img src="{{ hotel.image2 }}" alt="" />
            </div>
            <h2 class="box-title">Highlights</h2>
            <div class="destination-checklist">
              <div class="checklist">
                <ul>
                  @for (highlight of hotel.highlights; track highlight.id) {
                  <li>{{ highlight.name }}</li>
                  }
                </ul>
              </div>
            </div>
          </div>
          <div class="destination-gallery-wrapper">
            <h3 class="page-title mt-30 mb-30">From our gallery</h3>
            <div class="row gy-4 gallery-row filter-active">
              <div class="col-xxl-auto filter-item">
                <div class="gallery-box style3">
                  <div class="gallery-img global-img">
                    <img
                      src="assets/img/gallery/gallery_6_1.jpg"
                      alt="gallery image"
                    />
                    <a
                      href="assets/img/gallery/gallery_6_1.jpg"
                      class="icon-btn popup-image"
                      ><i class="fal fa-magnifying-glass-plus"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="col-xxl-auto filter-item">
                <div class="gallery-box style3">
                  <div class="gallery-img global-img">
                    <img
                      src="assets/img/gallery/gallery_6_2.jpg"
                      alt="gallery image"
                    />
                    <a
                      href="assets/img/gallery/gallery_6_2.jpg"
                      class="icon-btn popup-image"
                      ><i class="fal fa-magnifying-glass-plus"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="col-xxl-auto filter-item">
                <div class="gallery-box style3">
                  <div class="gallery-img global-img">
                    <img
                      src="assets/img/gallery/gallery_6_3.jpg"
                      alt="gallery image"
                    />
                    <a
                      href="assets/img/gallery/gallery_6_3.jpg"
                      class="icon-btn popup-image"
                      ><i class="fal fa-magnifying-glass-plus"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="col-xxl-auto filter-item">
                <div class="gallery-box style3">
                  <div class="gallery-img global-img">
                    <img
                      src="assets/img/gallery/gallery_6_4.jpg"
                      alt="gallery image"
                    />
                    <a
                      href="assets/img/gallery/gallery_6_4.jpg"
                      class="icon-btn popup-image"
                      ><i class="fal fa-magnifying-glass-plus"></i
                    ></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="th-comments-wrap style2">
            <h2 class="blog-inner-title h4">
              Comments ({{ comments.length }})
            </h2>
            <ul class="comment-list">
              @for (comment of comments; track comment.id) {
              <li class="th-comment-item">
                <div class="th-post-comment">
                  <div class="comment-avater">
                    @if (comment.user?.profile_picture) {
                    <img
                      src="{{ comment.user?.profile_picture }}"
                      alt="Comment Author"
                    />}@else {
                    <img
                      src="assets/img/blog/comment-author-1.jpg"
                      alt="Comment Author"
                    />}
                  </div>
                  <div class="comment-content">
                    <h3 class="name">{{ comment.name }}</h3>
                    <div class="commented-wrapp">
                      <span class="commented-on">{{ comment.created_at }}</span>
                      <!-- <span class="commented-time">08:56pm </span> -->
                      <span class="comment-review">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                      </span>
                    </div>
                    <p class="text">
                      {{ comment.text }}
                    </p>
                    <div class="reply_and_edit">
                      <i class="fa-solid fa-thumbs-up"></i>
                    </div>
                  </div>
                </div>
              </li>
              }
            </ul>
          </div>
          <!-- Comment end -->
          <!-- Comment Form -->
          <!-- <div class="th-comment-form">
            <div class="row">
              <h3 class="blog-inner-title h4 mb-2">Leave a Reply</h3>
              <p class="mb-25">
                Your email address will not be published. Required fields are
                marked
              </p>
              <div class="col-md-6 form-group">
                <input
                  type="text"
                  placeholder="Full Name*"
                  class="form-control"
                  required
                />
                <i class="far fa-user"></i>
              </div>
              <div class="col-md-6 form-group">
                <input
                  type="text"
                  placeholder="Your Email*"
                  class="form-control"
                  required
                />
                <i class="far fa-envelope"></i>
              </div>
              <div class="col-12 form-group">
                <input
                  type="text"
                  placeholder="Website"
                  class="form-control"
                  required
                />
                <i class="far fa-globe"></i>
              </div>
              <div class="col-12 form-group">
                <textarea
                  placeholder="Comment*"
                  class="form-control"
                ></textarea>
                <i class="far fa-pencil"></i>
              </div>
              <div class="col-12 form-group">
                <input type="checkbox" id="html" />
                <label for="html"
                  >Save my name, email, and website in this browser for the next
                  time I comment.</label
                >
              </div>
              <div class="col-12 form-group mb-0">
                <button class="th-btn">
                  Send Message<img src="assets/img/icon/plane2.svg" alt="" />
                </button>
              </div>
            </div>
          </div> -->
          {{ authService.isLoggedIn() }}
          {{ authService.token() }}
          @if(authService.isLoggedIn()) {
          <div class="th-comment-form">
            <div class="row">
              <h3 class="blog-inner-title h4 mb-2">Leave a Reply</h3>
              <p class="mb-25">
                Your email address will not be published. Required fields are
                marked
              </p>
              <form
                [formGroup]="commentFormRegistred"
                (ngSubmit)="onSubmitRegistredComment()"
              >
                <div class="col-12 form-group">
                  <textarea
                    placeholder="Comment*"
                    class="form-control"
                    formControlName="text"
                    required
                  ></textarea>
                  <i class="far fa-pencil"></i>
                </div>

                <div class="col-12 form-group mb-0">
                  <button
                    class="th-btn"
                    type="submit"
                    [disabled]="commentFormRegistred.invalid"
                  >
                    Send Message<img src="assets/img/icon/plane2.svg" alt="" />
                  </button>
                </div>
              </form>
            </div>
          </div>
          }@else {
          <div class="th-comment-form">
            <div class="row">
              <h3 class="blog-inner-title h4 mb-2">Leave a Reply</h3>
              <p class="mb-25">
                Your email address will not be published. Required fields are
                marked
              </p>
              <form [formGroup]="commentForm" (ngSubmit)="onSubmitComment()">
                <div class="col-md-6 form-group">
                  <input
                    type="text"
                    placeholder="Full Name*"
                    class="form-control"
                    formControlName="name"
                    required
                  />
                  <i class="far fa-user"></i>
                </div>
                <div class="col-md-6 form-group">
                  <input
                    type="email"
                    placeholder="Your Email*"
                    class="form-control"
                    formControlName="email"
                    required
                  />
                  <i class="far fa-envelope"></i>
                </div>
                <div class="col-12 form-group">
                  <input
                    type="text"
                    placeholder="Website"
                    class="form-control"
                    formControlName="website"
                  />
                  <i class="far fa-globe"></i>
                </div>
                <div class="col-12 form-group">
                  <textarea
                    placeholder="Comment*"
                    class="form-control"
                    formControlName="text"
                    required
                  ></textarea>
                  <i class="far fa-pencil"></i>
                </div>
                <div class="col-12 form-group">
                  <input
                    type="checkbox"
                    id="saveInfo"
                    formControlName="saveInfo"
                  />
                  <label for="saveInfo">
                    Save my name, email, and website in this browser for the
                    next time I comment.
                  </label>
                </div>
                <div class="col-12 form-group mb-0">
                  <button
                    class="th-btn"
                    type="submit"
                    [disabled]="commentForm.invalid"
                  >
                    Send Message<img src="assets/img/icon/plane2.svg" alt="" />
                  </button>
                </div>
              </form>
            </div>
          </div>
          }
        </div>
      </div>
      <div class="col-xxl-4 col-lg-5">
        <aside class="sidebar-area style3">
          <div class="widget widget_search">
            <form class="search-form">
              <input type="text" placeholder="Search" />
              <button type="submit"><i class="far fa-search"></i></button>
            </form>
          </div>
          <div class="widget widget_categories">
            <h3 class="widget_title">Categories</h3>
            <ul>
              <li>
                <a href="blog.html"
                  ><img src="assets/img/theme-img/map.svg" alt="" />City Tour</a
                >
                <span>(8)</span>
              </li>
              <li>
                <a href="blog.html"
                  ><img src="assets/img/theme-img/map.svg" alt="" />Beach
                  Tours</a
                >
                <span>(6)</span>
              </li>
              <li>
                <a href="blog.html"
                  ><img src="assets/img/theme-img/map.svg" alt="" />Wildlife
                  Tours</a
                >
                <span>(2)</span>
              </li>
              <li>
                <a href="blog.html"
                  ><img src="assets/img/theme-img/map.svg" alt="" />News &
                  Tips</a
                >
                <span>(7)</span>
              </li>
              <li>
                <a href="blog.html"
                  ><img src="assets/img/theme-img/map.svg" alt="" />Adventure
                  Tours</a
                >
                <span>(9)</span>
              </li>
              <li>
                <a href="blog.html"
                  ><img src="assets/img/theme-img/map.svg" alt="" />Mountain
                  Tours</a
                >
                <span>(10)</span>
              </li>
            </ul>
          </div>
          <div class="widget tour-booking">
            <p class="widget_subtitle">
              From <span class="widget_price">$75.00</span>
            </p>
            <div class="info-list">
              <ul>
                <li>
                  <strong>Date </strong>
                  <span>sun 15 June - Fri 20 July</span>
                </li>
                <li>
                  <strong>Number of travelers</strong>
                  <span>2 adults - 1 childeren - 1 room</span>
                </li>
              </ul>
            </div>
            <a href="contact.html" class="th-btn th-icon">Book Now</a>
            <span class="review"
              ><i class="fa-light fa-heart"></i> 88% of travelers recommend this
              experience</span
            >
          </div>
          <div class="widget">
            <h3 class="widget_title">Recent Posts</h3>
            <div class="recent-post-wrap">
              @for(comment of hotel.comments; track comment.id) {
              <div class="recent-post">
                <div class="media-img">
                  <a href="blog-details.html"
                    ><img
                      src="assets/img/blog/recent-post-1-1.jpg"
                      alt="Blog Image"
                  /></a>
                </div>
                <div class="media-body">
                  <h4 class="post-title">
                    <a class="text-inherit" href="blog-details.html"
                      >Exploring The Green Spaces Of the island maldives</a
                    >
                  </h4>
                  <div class="recent-post-meta">
                    <a href="blog.html"
                      ><i class="fa-regular fa-calendar"></i>22/6/ 2024</a
                    >
                  </div>
                </div>
              </div>
              }
            </div>
          </div>
          <div class="widget widget_tag_cloud">
            <h3 class="widget_title">Popular Tags</h3>
            <div class="tagcloud">
              <a href="blog.html">Tour</a>
              <a href="blog.html">Adventure</a>
              <a href="blog.html">Rent</a>
              <a href="blog.html">Innovate</a>
              <a href="blog.html">Hotel</a>
              <a href="blog.html">Modern</a>
              <a href="blog.html">Luxury</a>
              <a href="blog.html">Travel</a>
            </div>
          </div>
          <div
            class="widget widget_offer"
            data-bg-src="assets/img/bg/widget_bg_1.jpg"
          >
            <div class="offer-banner">
              <div class="offer">
                <h6 class="box-title">Need Help? We Are Here To Help You</h6>
                <div class="banner-logo">
                  <img src="assets/img/logo2.svg" alt="Tourm" />
                </div>
                <div class="offer">
                  <h6 class="offer-title">You Get Online support</h6>
                  <a class="offter-num" href="+256214203215"
                    >+256 214 203 215</a
                  >
                </div>
                <a href="contact.html" class="th-btn style2 th-icon"
                  >Read More</a
                >
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </div>
  <div
    class="shape-mockup shape1 d-none d-xxl-block"
    data-top="15%"
    data-right="12%"
    appShapeMockup
  >
    <img src="assets/img/shape/shape_1.png" alt="shape" />
  </div>
  <div
    class="shape-mockup shape2 d-none d-xl-block"
    data-top="11%"
    data-left="8%"
    appShapeMockup
  >
    <img src="assets/img/shape/shape_2.png" alt="shape" />
  </div>
  <div
    class="shape-mockup shape3 d-none d-xxl-block"
    data-top="19%"
    data-right="4%"
    appShapeMockup
  >
    <img src="assets/img/shape/shape_3.png" alt="shape" />
  </div>
</section>
